@inject Microsoft.Extensions.Options.IOptions<Factory.PL.Options.Names> appSettings

@{
    ViewData["Title"] = $"Login | {appSettings.Value.CompanyName}";
    Layout = "_Auth";
}

<style>
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
    }

    .glass-effect {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }

    .bg-glass-pattern {
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54.627 0l.83.828-1.415 1.415L51.8 0h2.827zM5.373 0l-.83.828L5.96 2.243 8.2 0H5.374zM48.97 0l3.657 3.657-1.414 1.414L46.143 0h2.828zM11.03 0L7.372 3.657 8.787 5.07 13.857 0H11.03zm32.284 0L49.8 6.485 48.384 7.9l-7.9-7.9h2.83zM16.686 0L10.2 6.485 11.616 7.9l7.9-7.9h-2.83zm20.97 0l9.315 9.314-1.414 1.414L34.828 0h2.83zM22.344 0L13.03 9.314l1.414 1.414L25.172 0h-2.83zM32 0l12.142 12.142-1.414 1.414L30 .828 17.272 13.556l-1.414-1.414L28 0h4zM.284 0l28 28-1.414 1.414L0 2.544v2.83L26.272 32l-1.414 1.414-28-28V0h3.428zM60 0L45.414 14.586l-1.414-1.414L58.586 0H60zm0 5.542L32 33.542l-1.414-1.414L60 3.128v2.414zm0 5.657L35.414 42.586l-1.414-1.414L60 8.785v2.414zM60 17.9L40.414 37.5l-1.414-1.414L60 15.472V17.9zm0 2.829L43.04 41.314l-1.414-1.414L60 20.785v2.829zm0 2.828L45.656 45.142l-1.414-1.414L60 23.614v2.828zm0 2.828L48.272 48.97l-1.414-1.414L60 26.442v2.828zm0 2.828L50.9 52.812l-1.414-1.414L60 29.272v2.828zm0 2.828L53.514 56.656l-1.414-1.414L60 32.1v2.828zm0 2.828L56.142 60.484l-1.414-1.414L60 34.93v2.828zM0 51.43c0 .635.127 1.24.356 1.793l1.54-1.54C1.66 51.33 1.508 50.888 1.4 50.428L0 51.43zm0-2.856c0 .635.127 1.24.356 1.793l1.54-1.54C1.66 48.474 1.508 48.032 1.4 47.572L0 48.574zm0-2.857c0 .635.127 1.24.356 1.793l1.54-1.54C1.66 45.617 1.508 45.175 1.4 44.715L0 45.717zm0-2.857c0 .635.127 1.24.356 1.793l1.54-1.54C1.66 42.76 1.508 42.318 1.4 41.858L0 42.86zm0-2.857c0 .635.127 1.24.356 1.793l1.54-1.54C1.66 39.902 1.508 39.46 1.4 39L0 40.002zm0-2.857c0 .635.127 1.24.356 1.793l1.54-1.54C1.66 37.045 1.508 36.603 1.4 36.143L0 37.145zm0-2.857c0 .635.127 1.24.356 1.793l1.54-1.54C1.66 34.188 1.508 33.746 1.4 33.286L0 34.288zm0-2.857c0 .635.127 1.24.356 1.793l1.54-1.54C1.66 31.33 1.508 30.888 1.4 30.428L0 31.43zm0-2.857c0 .635.127 1.24.356 1.793l1.54-1.54C1.66 28.474 1.508 28.032 1.4 27.572L0 28.574zm0-2.857c0 .635.127 1.24.356 1.793l1.54-1.54C1.66 25.617 1.508 25.175 1.4 24.715L0 25.717zm0-2.857c0 .635.127 1.24.356 1.793l1.54-1.54C1.66 22.76 1.508 22.318 1.4 21.858L0 22.86z' fill='%23006699' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
    }

    .hero-gradient {
        background: linear-gradient(125deg, rgba(0, 102, 153, 0.95) 0%, rgba(0, 51, 102, 0.9) 100%);
    }

    .form-control:focus, .form-check-input:focus {
        border-color: rgba(0, 102, 153, 0.5);
        box-shadow: 0 0 0 0.25rem rgba(0, 102, 153, 0.25);
    }

    .btn-glass {
        background-color: #006699;
        border: none;
        position: relative;
        transition: all 0.3s ease;
        overflow: hidden;
    }

        .btn-glass:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 0.6s ease;
        }

        .btn-glass:hover:before {
            left: 100%;
        }

    .feature-card {
        transition: all 0.3s ease;
        transform: translateY(0);
    }

        .feature-card:hover {
            transform: translateY(-5px);
        }

    .shimmer {
        position: relative;
        overflow: hidden;
    }

        .shimmer::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient( to bottom right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0) 100% );
            transform: rotate(30deg);
            animation: shimmer 3s infinite;
        }

    @@keyframes shimmer {
        0% {
            transform: translateX(-100%) rotate(30deg);
        }

        100% {
            transform: translateX(100%) rotate(30deg);
        }
    }
</style>

<div class="container-fluid vh-100 vw-100 d-flex bg-glass-pattern p-0">
    <div class="d-none d-lg-flex flex-column hero-gradient text-white position-relative w-50 overflow-hidden">
        <div class="shimmer position-absolute w-100 h-100"></div>

        <div class="position-relative p-4 z-index-1">
            <div class="d-flex align-items-center">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M24 4C12.954 4 4 12.954 4 24C4 35.046 12.954 44 24 44C35.046 44 44 35.046 44 24C44 12.954 35.046 4 24 4Z" fill="#ffffff" opacity="0.9" />
                    <path d="M24 8C15.163 8 8 15.163 8 24C8 32.837 15.163 40 24 40C32.837 40 40 32.837 40 24C40 15.163 32.837 8 24 8Z" fill="#006699" />
                    <path d="M24 12C17.373 12 12 17.373 12 24C12 30.627 17.373 36 24 36C30.627 36 36 30.627 36 24C36 17.373 30.627 12 24 12ZM24 32C19.582 32 16 28.418 16 24C16 19.582 19.582 16 24 16C28.418 16 32 19.582 32 24C32 28.418 28.418 32 24 32Z" fill="#ffffff" opacity="0.3" />
                </svg>
                <span class="ms-3 fw-bold fs-3">@appSettings.Value.CompanyName</span>
            </div>
        </div>

        <div class="flex-grow-1 d-flex align-items-center justify-content-center position-relative z-index-1">
            <div class="text-center p-2" style="max-width: 700px;">
                <h1 class="display-4 mb-2" style="font-weight: 400">Empower Your Glass Factory<br>With Production System</h1>
                <p class="lead mb-5 opacity-90 ">Transform your glass manufacturing process with our all-in-one software platform. Train your employees, control production.</p>

                <div class="row g-4 mt-3 ">
                    <div class="col-md-4">
                        <div class="p-4 glass-effect rounded-4 feature-card">
                            <i class="bi bi-gear fs-1 mb-3"></i>
                            <h5 class="fw-bold">Factory Incharge</h5>
                            <p class="small mb-0">Centralized control for seamless factory operations.</p>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="p-4 glass-effect rounded-4 feature-card">
                            <i class="bi bi-people fs-1 mb-3"></i>
                            <h5 class="fw-bold">Employee Training</h5>
                            <p class="small mb-0">Interactive training modules to upskill your workforce.</p>
                        </div>
                    </div>
                    <!-- Design Studio -->
                    <div class="col-md-4">
                        <div class="p-4 glass-effect rounded-4 feature-card">
                            <i class="bi bi-inbox fs-1 mb-3"></i>
                            <h5 class="fw-bold">Store Management</h5>
                            <p class="small mb-0">Track raw materials and finished goods to optimize inventory levels.</p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <!-- Footer -->
        <div class="position-relative p-4 z-index-1">
            <div class="d-flex justify-content-between">
                <span class="small opacity-75">© 2025 @appSettings.Value.CompanyName. All rights reserved.</span>
                <div>
                    <a asp-controller="Home" asp-action="Privacy" class="text-white text-decoration-none small me-3 opacity-75">Privacy</a>
                    <a asp-controller="Home" asp-action="Terms" class="text-white text-decoration-none small opacity-75">Terms</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Right Section: Login Form -->
    <div class="bg-white d-flex flex-column justify-content-center align-items-center flex-grow-1 position-relative overflow-auto col-md-6">
        <div class="d-block d-lg-none position-absolute top-0 start-0 w-100 hero-gradient text-white p-4">
            <div class="d-flex align-items-center">
                <svg width="36" height="36" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M24 4C12.954 4 4 12.954 4 24C4 35.046 12.954 44 24 44C35.046 44 44 35.046 44 24C44 12.954 35.046 4 24 4Z" fill="#ffffff" opacity="0.9" />
                    <path d="M24 8C15.163 8 8 15.163 8 24C8 32.837 15.163 40 24 40C32.837 40 40 32.837 40 24C40 15.163 32.837 8 24 8Z" fill="#006699" />
                    <path d="M24 12C17.373 12 12 17.373 12 24C12 30.627 17.373 36 24 36C30.627 36 36 30.627 36 24C36 17.373 30.627 12 24 12ZM24 32C19.582 32 16 28.418 16 24C16 19.582 19.582 16 24 16C28.418 16 32 19.582 32 24C32 28.418 28.418 32 24 32Z" fill="#ffffff" opacity="0.3" />
                </svg>
                <span class="ms-2 fw-bold fs-4">@appSettings.Value.CompanyName</span>
            </div>
        </div>
        <div class="w-100 px-4 px-md-5 py-5 mt-5 mt-lg-0" style="max-width:500px">
            @RenderBody()
        </div>
    </div>
</div>

<div id="cookieConsentPopup" class="d-none position-fixed bottom-0 start-0 w-100 bg-light p-3 shadow-lg" style="z-index: 1050; display: none;">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-8">
                <p class="mb-0 small">
                    We use cookies to enhance your experience. By continuing to visit this site, you agree to our use of cookies.
                    <a asp-controller="Home" asp-action="Privacy" class="text-decoration-none">Learn more</a>.
                </p>
            </div>
            <div class="col-md-4 text-end">
                <button id="declineCookies" class="btn btn-outline-secondary btn-sm me-2">Decline</button>
                <button id="acceptCookies" class="btn btn-primary btn-sm">Accept</button>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        document.getElementById('togglePassword')?.addEventListener('click', function () {
            const passwordInput = document.getElementById('passwordInput');
            const passwordIcon = document.getElementById('passwordIcon');

            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                passwordIcon.classList.remove('bi-eye');
                passwordIcon.classList.add('bi-eye-slash');
            } else {
                passwordInput.type = 'password';
                passwordIcon.classList.remove('bi-eye-slash');
                passwordIcon.classList.add('bi-eye');
            }
        });
    </script>
    <script>
        function openPopup(url) {
            const width = 500;
            const height = 600;
            const left = (window.innerWidth - width) / 2;
            const top = (window.innerHeight - height) / 2;
            window.open(url, 'authPopup', `width=${width},height=${height},left=${left},top=${top}`);
        }
    </script>
    <script>
                document.addEventListener('DOMContentLoaded', function () {
            const cookieConsentPopup = document.getElementById('cookieConsentPopup');
            const acceptCookiesButton = document.getElementById('acceptCookies');
            const declineCookiesButton = document.getElementById('declineCookies');

            const hasConsented = localStorage.getItem('cookieConsent');

            if (!hasConsented) {
                cookieConsentPopup.style.display = 'block';
            }

            acceptCookiesButton.addEventListener('click', function () {
                localStorage.setItem('cookieConsent', 'accepted');
                cookieConsentPopup.style.display = 'none';
            });

            declineCookiesButton.addEventListener('click', function () {
                localStorage.setItem('cookieConsent', 'declined');
                cookieConsentPopup.style.display = 'none';
            });
        });
    </script>
    @await RenderSectionAsync("Scripts", required: false)

}